Drupal.theme.prototype.popupButton=function(a,b){return'<span><input type="button" value="'+a+'" id="'+b+'" /></span>'};Drupal.theme.prototype.popupLoading=function(){var a='<div id="popups-loading"><div>';a+=Drupal.t("Loading...");a+="</div></div>";return a};Drupal.theme.prototype.popupDialog=function(d,g,b,f){var e=Drupal.theme("popupTemplate",d);if(f){b='<div class="popups-body-inner-has-buttons">'+b+"</div>"}var c=e.replace("%title",g).replace("%body",b);var a="";if(f){jQuery.each(f,function(j,h){a+=Drupal.theme("popupButton",h.title,j)});a='<div class="popups-buttons-inner">'+a+"</div>"}c=c.replace("%buttons",a);return c};Drupal.attributes=Drupal.theme.prototype.attributes=function(b){var a="";$.each(b,function(d,c){a+=" "+d+'="'+Drupal.checkPlain(c)+'"'});return $.trim(a)};Drupal.l=Drupal.theme.prototype.l=function(d,c,a){if(typeof a=="undefined"){var a={}}var b={attributes:{},html:false};a=$.extend(b,a);return'<a href="'+c+'"'+Drupal.attributes(a.attributes)+">"+(a.html?d:Drupal.checkPlain(d))+"</a>"
};Drupal.theme.infotip=function(c,b){if(typeof b=="undefined"){var b={}}var d={text:"",gravity:"s",attributes:{"class":""}};b=$.extend(d,b);var a="<span "+Drupal.attributes(b.attributes)+">"+b.text+"</span>";var e=$(a);e.tipsy({html:true,gravity:b.gravity,title:function(){return c}});return e};Drupal.theme.sActionLinks=function(b,c){if(typeof c==undefined){var c={}}if(typeof b!="object"&&b.length==0){return""}var d={wrapperId:"",ulId:"",btnId:"",btnClass:"",ulClass:"",wrapperClass:"",size:"regular",text:"",isAngular:true};c=$.extend(d,c);var a="";a+='<div class="'+(c.isAngular?"s-action-link":"")+" action-links-wrapper action-links-wrapper-"+c.size+" "+c.wrapperClass+'">';a+='<div tabindex="0" role="button" class="action-links-unfold" id="'+c.btnId+'">';a+='<span class="action-links-unfold-text"><span class="visually-hidden">'+Drupal.t("Click to toggle options.")+"</span></span>";a+="</div>";a+='<ul class="action-links">';$.each(b,function(f,e){a+=e});a+="</ul>";a+="</div>";return a};Drupal.theme.sCommonAngularDeletePopup=function(){return{title:Drupal.t("Delete"),body:Drupal.t("Are you sure you want to delete this?"),confirm:{text:Drupal.t("Delete")},cancel:{text:Drupal.t("Cancel")}}
};Drupal.popup=function(b,c){var a=$(b);a.not(".popups-processed").addClass("popups-processed").click(function(d){d.preventDefault();return Popups.clickPopupElement(this,c)});return a};Drupal.behaviors.schoologyTheme=function(a){$(".popups-body textarea:not(.schoologyTheme-processed)").addClass("schoologyTheme-processed").each(function(){var b=$(this);b.focus(function(){b.addClass("popups-textarea-focus");popup=Popups.activePopup();if(popup!=null){Popups.resizeAndCenter(popup)}})})};Drupal.theme.sAjaxLoader=function(c){var b={asString:false,imgId:false};var d=$.extend({},$.fn.sActionLinks.defaults,c);var a=$("<img />").attr("src","/sites/all/themes/schoology_theme/images/ajax-loader.gif").addClass("ajax-loader");if(d.imgId){a.attr("id",d.imgId)}if(d.asString){return a[0].outerHTML}return a};Drupal.theme.sAjaxMessage=function(a,c){var b='<div class="messages '+c+'">\n          <div class="messages-close-btn" style="">x</div>\n          <div class="messages-container">\n            <table role="presentation"><tbody><tr>\n               <td><div class="messages-icon">&nbsp;</div></td>\n               <td><div class="message-text">'+a+"</div></td>\n            </tr></tbody></table>\n          </div>\n        </div>";
return b};Drupal.theme.s_course_no_members_overlay=function(d,a,c){var b="";if(typeof c=="undefined"){c=false}if(typeof a=="undefined"){a=true}b+='<div class="s-js-no-members-overlay no-members-overlay hidden">';if(a){b+='<div class="no-members-message">';b+='<span class="inline-icon medium students mono"></span>';b+=Drupal.t('Currently there are no <a href="!members_link">members</a> in this course',{"!members_link":"/course/"+d+"/members"});b+="</div>"}if(c&&!a){b+='<div class="no-tags-message">';b+='<span class="inline-icon medium tags mono"></span>';b+=Drupal.t("There are no learning objectives aligned in this course");b+="</div>"}b+="</div>";return b};var wait_image="/sites/all/themes/schoology_theme/images/ajax-loader.gif";var wait_image_width=43;var wait_image_height=11;Drupal.behaviors.sGradeItem=function(a){sGradeItemEnableCommentJump();if($("#save-for-later-help",a).length){$("#save-for-later-help",a).cluetip({splitTitle:"|",dropShadow:false,showTitle:false,positionBy:"auto"})
}$(".grade-item-action-links:not(.sGradeItem-processed)",a).addClass("sGradeItem-processed").each(function(){$(this).sActionLinks({hidden:false,wrapper:".action-links-wrapper"})});$(".info-container .view-info:not(.sGradeItem-processed)",a).addClass("sGradeItem-processed").each(function(){var c=$(this);c.bind("click",function(){var d=$(this).parent();$(".grading-info",d).toggle();c.toggleClass("active");return false}).tipsy({gravity:"se"})});$("body").unbind("click.sGradeViewInfo").bind("click.sGradeViewInfo",function(f){var c=$(".info-container .view-info",a);var d=$(f.target);if(c.hasClass("active")&&d.not(".grading-info")&&d.parents(".grading-info").length==0){c.click()}});$(".info-container .link-btn:not(.sGradeItem-processed)",a).addClass("sGradeItem-processed").each(function(){$(this).tipsy({gravity:"se"})});$(".comment:not(.sGradeItem-processed)",a).addClass("sGradeItem-processed").each(function(){var c=$(this);c.bind("mouseenter",function(){$(".entry-links-view",c).show()}).bind("mouseleave",function(){$(".entry-links-view",c).hide()
})});if(typeof tinyMCE!="undefined"){$(".s_grade_item_assignment #edit-comment.s-tinymce-load-editor:not(.sGradeItem-processed), .s_grade_item_assessment #edit-comment.s-tinymce-load-editor:not(.sGradeItem-processed)",a).addClass("sDiscussion-sGradeItem").each(function(){var e=$(this),d=e.attr("id"),c=tinyMCE.get(d);if(!c){sTinymceInit({elements:d,toolbar:"basic_comment"})}})}$("#s-grade-item-add-attachment-form:not(.sGradeItem-processed)",a).addClass("sGradeItem-processed").each(function(){setTimeout(function(){$("#file-selector").click()},150)});var b="";$(".comment-area-toggle").on("click",function(){b=$("#edit-comment-wrapper .title-infield").val()});$(".grade-submit-buttons .cancel-btn").on("click",function(c){$("#edit-comment-wrapper .title-infield").val(b);$(c.currentTarget).closest("#s-grade-item-edit-enrollment-grade-form").removeClass("active")})};function sGradeItemEnableCommentJump(){$(".go-to-reply").click(function(){var a=$(this).parent().parent().parent().parent();if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var b=$(this.hash);
$(b).effect("highlight",{color:"#f9b974"},3000);b=b.length&&b||$("[name="+this.hash.slice(1)+"]");if(b.length){var c=b.offset().top-20;$("html,body").animate({scrollTop:c},500);return false}}})}Drupal.Ajax.plugins.s_grade_item=function(l,k){if(l=="message"){var c=k.local.submitter;formObj=c.closest(".post-comment-form");if(formObj.length){if(typeof k.redirect=="string"&&k.redirect.length>0){window.location.href=k.redirect}else{var e=k.ajax_validate_output;var a=k.ajax_submit_output;var b="comment-container";var j="";if(a!=undefined){j=a}else{if(e!=undefined){j=e}}if($("."+b+" #s_comments").length>0){$("."+b+" #s_comments").fadeIn(5000,function(){var m=$(j);$("."+b+" #s_comments").append(m);Drupal.attachBehaviors(m)})}else{var f='<div id="s_comments">'+j+"</div>";var h=$(f);$(".no-comments").replaceWith(h);Drupal.attachBehaviors(h)}var d=formObj.find(".s-tinymce-load-editor");if(d.length){var g=tinyMCE.get(d.attr("id"));if(g){g.setContent("");g.save()}}return false}}}return false};var wait_image="/sites/all/themes/schoology_theme/images/ajax-loader.gif";
var wait_image_width=43;var wait_image_height=11;Drupal.Ajax.plugins.s_comment=function(h,b){switch(h){case"submit":var m=b.submitter,l=m.closest("form"),x=l.find(".s-tinymce-load-editor");if(l.hasClass("post-comment-form")){m.attr("disabled","disabled").parent().addClass("disabled")}if(x.length){var c=tinyMCE.get(x.attr("id"));if(c){c.save()}}break;case"message":var m=b.local.submitter;var d=m.parents("form");if(!m.parents("form").hasClass("post-comment-form")){return}var z=(m.parents(".submit-enabled").length>0);if(z){m.attr("disabled",false).parent().removeClass("disabled")}var D=b.ajax_validate_output;var k;var v;if(typeof(b.ajax_submit_output)=="object"){k=b.ajax_submit_output.newComment;v=b.ajax_submit_output.allComments}else{k=b.ajax_submit_output}var u=m.closest(":has(.feed-comments, .blog-comments, .discussion-content, .album-comments, .update-comments)").find(".feed-comments, .blog-comments, .discussion-content, .album-comments, .update-comments");var y=u.parent();var w="";var j=$("body").hasClass("discussion-view");
if(k!=undefined){w=k}else{if(D!=undefined){w=D}}$("p.no-discussion",$(".discussion-content")).hide();if(u.find("#s_comments").length>0){u.find("#s_comments").fadeIn(5000,function(){var G=$("<div class='discussion-card'></div>");G.append(w);if(j){$(this).prepend(G)}else{$(this).append(G)}Drupal.attachBehaviors(G);var F=false;for(i=0;i<b.messages_error.length;++i){if(b.messages_error[i].value=="This discussion is locked"){F=true}}if(F){u.find("textarea").attr("defaulttext",u.find("textarea").val()).addClass("is-locked")}sCommentScrollToNewComment(G,750,":has(.s-comments-post-form-new)");if(j){var E="rgba(213,227, 241, 0.6)";G.effect("highlight",{color:E},3000)}})}else{var s=$('<div id="s_comments"><div class="discussion-card">'+w+"</div></div>");if(j){var B="rgba(213,227, 241, 0.6)";u.find(".s-comments-post-form").after(s);s.effect("highlight",{color:B},3000)}else{u.find(".s-comments-post-form").before(s)}Drupal.attachBehaviors(s)}var f=d.find("textarea");if(f.length){if(f.hasClass("s-tinymce-load-editor")){var c=tinyMCE.get(f.attr("id"));
if(c){c.setContent("");c.save()}}else{f.val("").trigger("blur")}}if(v){for(var g in v){var o=u.find("#comment-"+g);var C=$(".comment-body-wrapper",o);var q=$(".comment-top",o);C.removeClass("disabled");var t=$("<textarea/>").html(v[g].body).val();C.html(t);$(v[g].attachments).insertAfter(q);o.removeClass("disabled");$(".comment-reply",o).removeClass("disabled").show()}Drupal.attachBehaviors(u);u.prev(".discussion-require-post-notice").remove();var n=u.parents(".course-discussion");$("#discussion-user-stats-wrapper",n).removeClass("disabled");sAttachBehaviors(["s_discussion"],n)}if(u.hasClass("update-comments")){popup=Popups.activePopup();if(popup){Popups.resizeAndCenter(popup)}}var r=y.find(".feed-footer").find("span.ajax-post-comment");var p=r.text();var A=p.split(" ");var e=A[0];var a=A[1];if(e==1){a=A[1]+"s"}++e;r.text(e+" "+a);$("#edit-comment-wrapper #edit-comment",d).css("height","32px");break;case"afterMessage":if(!b.ajax_submit_output){return}if($("#attachments").length>0){resetAttachmentForm();
sAttachmentResetBasicUploader();unWantedForm=$("#edit-file-swf-wrapper .upload-form");if(unWantedForm){$("#edit-file-swf-wrapper").append(unWantedForm.children("input"));unWantedForm.remove()}}if($("li#file-selector").hasClass("active")){$("li#file-selector").removeClass("active")}break}};var wait_image="/sites/all/themes/schoology_theme/images/ajax-loader.gif";var wait_image_width=43;var wait_image_height=11;Drupal.Ajax.plugins.s_comment_reply=function(l,b){switch(l){case"submit":var q=b.submitter;q.attr("disabled","disabled").parent().addClass("disabled");break;case"message":var q=b.local.submitter;var a=q.parents("form");if(a.attr("id")=="s-comment-reply-form"){if(typeof b.redirect=="string"&&b.redirect.length>0){window.location.href=b.redirect}else{q.attr("disabled",false).parent().removeClass("disabled");var x=b.ajax_validate_output;var o=b.ajax_submit_output;var s="";if(o!=undefined){var h=a.find("textarea");if(h.length){if(h.hasClass("s-tinymce-load-editor")){var g=tinyMCE.get(h.attr("id"));
if(g){g.setContent("");g.save()}}else{h.val("").trigger("blur")}}s=o;var f=q.parents(".comment").eq(0);var t=f.next(".s_comments_level");if(t.length==0){t=$('<div class="s_comments_level"></div>');var u=f.parent(".s_comments_level");if(u&&u.hasClass("nested-threshold-exceeded")){t.addClass("nested-threshold-exceeded")}f.after(t)}var d=$(s);t.append(d);a.parent().hide();var m=$("body").hasClass("discussion-view");var w="#f9b974";sCommentScrollToNewComment(d,500);if(m){w="rgba(213,227, 241, 0.6)"}d.effect("highlight",{color:w},3000);Drupal.attachBehaviors(t)}else{if(x!=undefined){s=x}}var j=q.closest(".thread-root");var n=j.prev();var r=$(s);var e=$(".pending-comment",r).length>0;if(n.hasClass("expander-bar")&&!e){var k=$(".num-replies",n);var v=k.text();var c=$(".expander-text",n);var p=$(".expander-hide-text",n);v=parseInt(v);v++;k.html(v);c.html(Drupal.formatPlural(v,"1 Reply","@count Replies"));p.html(Drupal.formatPlural(v,"Hide 1 reply","Hide All @count Replies"));if(v==1){$(".expander-link-expanded",n).removeClass("hidden")
}}}}break}};Drupal.theme.s_course_course_dropdown=function(d){var c="";var b={attributes:{title:Drupal.t("See All Courses")}};var a={attributes:{title:Drupal.t("Browse Courses")}};c+='<div class="s-dropdown course-dropdown" ng-controller="s_course_active_courses">';c+='<img ng-show="loading" class="ajax-loader" src="/sites/all/themes/schoology_theme/images/ajax-loader.gif" alt="'+Drupal.t("Loading")+'" />';c+=Drupal.theme.s_course_course_dropdown_list();c+='<div class="courses-action no-active-courses-item" style="display:none" ng-hide="loading">';c+='<span ng-bind-html-unsafe="create_course_link"></span>';c+='<span ng-bind-html-unsafe="join_course_link"></span>';c+='<span class="wrapper-for-actions">';c+='<span tabindex="0" role="button" title="'+Drupal.t("Reorder Courses")+'" class="reorderRealms" realm="course" ng-hide="courses.sections.length < 2">Reorder</span>';c+='<span class="see-all" title="'+Drupal.t("Browse Courses")+'" ng-show="!courses.sections.length && permissions.can_browse_courses">'+Drupal.l(Drupal.t("Browse"),"/courses/browse",a)+"</span>";
c+='<span class="see-all" title="'+Drupal.t("See All Courses")+'" ng-hide="!courses.sections.length && permissions.can_browse_courses">'+Drupal.l(Drupal.t("See All"),"/courses",b)+"</span>";c+="</span>";c+="</div>";c+='<span class="load-watch" loaded="loaded"></span>';c+="</div>";return c};Drupal.theme.s_course_course_dropdown_list=function(c,b){var a="";a+='<ul class="courses-listing listing mycourses_block '+(b?"course-reorder":"")+'" role="menu" ng-class="{\'show-buildings\':courses.use_buildings_names}">';a+='<div class="sections-list">';a+='<li id="{{section.nid}}" ng-repeat="section in courses.sections" class="section-item '+(b?"draggable":"")+'" ng-class="{\'admin-section\':section.is_admin}">';a+='<span class="drag-handle drag-handle-ng" ng-hide="!show_handle"></span>';a+='<div class="section-item-left" ng-bind-html-unsafe="section.logo">';a+="</div>";a+='<div class="section-item-right" ng-class="{\'requires-verification\': (section.is_k6 && section.is_admin && !permissions.is_verified)}">';
a+='<div class="is_k6" ng-show="section.is_k6 && section.is_admin && !permissions.is_verified"><a class="requires-verification-link" href="/verify"><span class="s-infotip" text="k6_infotip" item-info="section" gravity="w" enabled="true"><span class="inline-icon medium verification-error"></span></span></a></div>';a+='<a href="{{section.link}}" role="menuitem">';a+='<span class="listing-icons course-icons">';a+="<span ng-class=\"{'admin-icon':section.admin_icon, 'course-icon':!section.admin_icon}\"></span>";a+="</span>";a+='<div ng-switch on="section.infotip" class="s-course-title">';a+='<span ng-switch-when="false">{{section.title}}</span>';a+='<span ng-switch-when="true"><span class="s-infotip" text="section.infotip_text" item-info="section" gravity="section.infotip_gravity" enabled="true">{{itemInfo.title}}</span></span>';a+="</div>";a+='<div ng-switch on="courses.use_buildings_names">';a+='<div ng-switch-when="true" class="s-section-building-title">{{section.building_title}}</div>';a+="</div>";
a+="</a>";a+="</div>";a+="</li>";a+="</div>";a+='<li class="no-active-courses-item" style="display:none" ng:hide="loading || courses.sections">';a+='<div class="no-courses">';a+=Drupal.t("You have no active courses");a+="</div>";a+="</li>";a+="</ul>";if(b){a+='<input type="hidden" class="course-reorder-weights" value="" />'}return a};sAngular.addController("s_course_active_courses",["$scope","Course",function(a,b){a.courses=null;a.permissions=null;a.loading=true;a.k6_infotip=Drupal.t("Schoology requires all instructors teaching students under the age of 13 to verify their identities. Students under the age of 13 cannot register for this course until you have been verified. Click here to verify your account.");a.load=function(c){if(a.courses===null){b.getActiveCourses(function(d,f){a.courses=d;a.permissions=f;a.loading=false;var e={};$.each(d.courses,function(j,h){e[h.nid]=j});a.courses.use_buildings_names=false;$.each(d.sections,function(l,m){var j=e[m.course_nid];var h=d.courses[j];m.infotip=false;
m.title=h.course_title+": "+m.section_title;if(!h.same_school||!h.same_building){a.courses.use_buildings_names=true}m.building_title=h.building_title});$.each(d.courses,function(j,h){h.sections.sort(function(l,k){return l.section_title>k.section_title})});if(a.permissions.can_join_courses){a.join_course_link=Drupal.popup(Drupal.l(Drupal.t("Join"),"/enroll/course",{attributes:{"class":"action-join",title:Drupal.t("Join Course")}}),{extraClass:"popups-small",updateMethod:"reload",hijackDestination:false,updateSource:"final",doneTest:/course\/\d+?|home/,ajaxForm:true})}if(a.permissions.can_create_courses){if(a.permissions.school_has_grading_periods){var g=a.permissions.has_rename_sis_flag?" popups-section":"";a.create_course_link=Drupal.popup(Drupal.l(Drupal.t("Create"),"/course/create",{attributes:{"class":"action-create",title:Drupal.t("Create Course")}}),{extraClass:"popups-large"+g,updateMethod:"reload",hijackDestination:false,updateSource:"final",doneTest:/course\/\d+/,ajaxForm:true})
}else{a.create_course_link=Drupal.theme.infotip(Drupal.t("Grading periods must first be set up by your System Administrator"),{text:'<span class="action-create disabled">'+Drupal.t("Create")+"</span>",gravity:"n",attributes:{"class":"hide-qmark"}})}}if(typeof c=="function"){c(d,f);$(".no-active-courses-item").show()}a.loaded=true})}}}]);sAngular.addController("s_course_switcher_courses",["$scope","Course",function(a,b){if(!a.loaded){a.courses=null;a.permissions=null;a.loading=true}a.load=function(c){if(a.courses===null){b.getActiveCourses(function(h,f){var g=window.location.pathname.split("/"),e=typeof g[3]!="undefined"?g[3]:"",d={};a.courses=h.courses;a.permissions=f;a.loading=false;$.each(h.courses,function(k,j){d[j.nid]=k;j.sections=[];j.display=(e!="grades")});$.each(h.sections,function(k,l){var j=h.courses[d[l.course_nid]];if(typeof j.sections!="object"){j.sections=[]}g[2]=l.nid;j.sections.push({link_to_current_page:g.join("/"),section_title:l.section_title,is_admin:l.is_admin,display:e!="grades"||l.is_admin});
if(l.is_admin){j.display=true}});if(typeof c=="function"){c(h,f)}a.loaded=true})}}}]);sAngular.addController("s_course_course_export_user_search_box",["$scope",function(a){}]);sAngular.addDirective("sCourseCourseExportUserSearchBoxContainer",[function(){return{restrict:"C",controller:["$scope","$element","$attrs",function(c,b,a){c.items=[];c.addItem=function(d){c.items.push(d)};c.deleteItem=function(d){c.items.splice(d,1)};c.$on("sCourseCourseExportUserSearchBoxReset",function(d){c.items=[]})}],link:function(b,a){var d=$("input",a);d.val(Drupal.t("Search for users"));d.addClass("search-box-init");d.bind("click",function(f){if($(this).hasClass("search-box-init")){$(this).val("");$(this).removeClass("search-box-init")}}).bind("focus",function(f){if($(this).hasClass("search-box-init")){$(this).val("");$(this).removeClass("search-box-init")}}).bind("blur",function(f){if(!$(this).hasClass("search-box-init")&&$(this).val()==""){$(this).val(Drupal.t("Search for users"));$(this).addClass("search-box-init")
}});var c=$(".autocomplete-wrapper",a);c.click(function(f){if(!$(f.target).hasClass("delete-selected")){d.focus()}});d.autocomplete("/iapi/course/search_users",{minChars:3,scroll:true,dataType:"json",width:(c.outerWidth()-2),anchorTo:c,parse:function(g){var g=g.body;var e=[];for(var f=0;f<g.length;f++){var h=g[f];e[e.length]={data:h,value:h.uid,result:""}}if(e.length==0){var h={uid:"",name:Drupal.t("No users found"),picture:""};e[0]={data:h,value:"",result:""}}return e},formatItem:function(h,g,e){var f="";f='<div class="ac-row">';if(h.picture!=""){f+='<div class="ac-picture"><img src="'+h.picture+'" alt="'+Drupal.t("Profile picture for @node",{"@node":h.name})+'" /></div>'}f+='<div class="ac-name">'+h.name+"</div>";f+="</div>";return f},formatResult:function(e){return""}});d.result(function(f,h,g){$(this).val("");if($(".ac_results ul li .ac-row-default").length==1||h.uid==""){return false}var e=false;$.each(b.items,function(j,k){if(h.uid==k.uid){e=true}});if(e){return false}b.$apply(function(){b.addItem(h);
$("#edit-user-search-smart-box-field").val($.toJSON(b.items))});return false})}}}]);Drupal.theme.s_group_group_dropdown=function(a){var b="";var d={attributes:{title:Drupal.t("See All Groups")}};var c={attributes:{title:Drupal.t("Browse Groups")}};b+='<div class="s-dropdown" ng-controller="s_group_active_groups">';b+='<div ng-hide="hide_find_groups || !permissions.official_groups_access" id="group-sugggestions-closeable-dropdown">';b+='<span ng-bind-html-unsafe="find_groups_bar"></span>';b+='<span style="display:none" ng-hide="hide_find_groups || !permissions.official_groups_access" id="closeable-message-group-suggest-dropdown-notif" ng-click="closeFindGroup()" class="close-btn messages-close-single-btn"><span></span></span>';b+="</div>";b+='<img ng-show="loading" class="ajax-loader" src="/sites/all/themes/schoology_theme/images/ajax-loader.gif" alt="'+Drupal.t("Loading")+'" />';b+=Drupal.theme.s_group_group_dropdown_list(a);b+='<div class="groups-action" style="display:none" ng-hide="loading">';
b+='<span ng-bind-html-unsafe="create_group_link"></span>';b+='<span ng-bind-html-unsafe="join_group_link"></span>';b+='<div ng-hide="!hide_find_groups" class="find-pub-groups-icon" ng-bind-html-unsafe="find_groups_link"></div>';b+='<span class="wrapper-for-actions">';b+='<span class="see-all" title="'+Drupal.t("Browse Groups")+'" ng-show="!groups.length && permissions.can_browse_groups">'+Drupal.l(Drupal.t("Browse"),"/groups/school",c)+"</span>";b+='<span class="see-all" title="'+Drupal.t("See All Groups")+'" ng-hide="!groups.length && permissions.can_browse_groups">'+Drupal.l(Drupal.t("See All"),"/groups",d)+"</span>";b+='<span ng-hide="groups.length < 2" title="'+Drupal.t("Reorder")+'" tabindex="0" role="button" class="reorderRealms" realm="group">Reorder</span>';b+="</span>";b+="</div>";b+='<span class="load-watch" loaded="loaded"></span>';b+="</div>";return b};Drupal.theme.s_group_group_dropdown_list=function(a,c){var b="";b+='<ul class="groups-listing listing mygroups_block '+(c?"group-reorder":"")+'" role="menu">';
b+='<li id="{{group.nid}}" ng-repeat="group in groups" class="list-item '+(c?"draggable":"")+'" id="group-{{group.nid}}">';b+='<div class="group-item">';b+='<span class="drag-handle drag-handle-ng" ng-hide="!show_handle"></span>';b+='<div class="group-item-left" ng-bind-html-unsafe="group.logo">';b+="</div>";b+='<div class="group-item-right" ng-class="{\'requires-verification\': (group.is_k6 && group.admin_icon && !permissions.is_verified)}">';b+='<div class="is_k6" ng-show="group.is_k6 && group.admin_icon && !permissions.is_verified"><a class="requires-verification-link" href="/verify"><span class="s-infotip" text="k6_infotip" item-info="group" gravity="w" enabled="true"><span class="inline-icon medium verification-error"></span></span></a></div>';b+='<span ng-switch on="group.view_access">';b+='<a ng-switch-when="true" href="{{group.link}}" role="menuitem">';b+='<span class="listing-icons group-icons">';b+="<span ng-class=\"{'admin-icon':group.admin_icon, 'group-icon':!group.admin_icon}\"></span>";
b+="</span>";b+="<span>{{group.title}}</span>";b+="</a>";b+='<span ng-switch-when="false" class="group-name">{{group.title}}</span>';b+="</span>";b+="</div>";b+="</div>";b+="</li>";b+='<li style="display:none" ng-hide="!vars.has_more" class="sGroupLoadMore group-more last">';b+='<span class="group-more-link {{more_loading}}">';b+='<img style="display:none" ng-hide="!more_loading" class="ajax-loader" src="/sites/all/themes/schoology_theme/images/ajax-loader.gif" alt="'+Drupal.t("Loading")+'" />';b+='<span style="display:none" ng-hide="more_loading" class="more-link-item">'+Drupal.t("More")+"</span>";b+="</span>";b+="</li>";b+='<li style="display:none" ng-hide="groups || loading" class="list-item empty first last">';b+='<div class="no-groups">';b+=Drupal.t("You have not joined any groups");b+="</div>";b+="</li>";b+="</ul>";if(c){b+='<input type="hidden" class="group-reorder-weights" value="" />'}return b};sAngular.app.service("Group",["SHttp",function(a){var b={};b.getActiveGroups=function(e,d){var c="/iapi/group/active";
if(typeof d!="undefined"){c+="?start="+d}a.get(c,function(f){e(f.groups,f.permissions,f.vars)})};return b}]);sAngular.app.controller("s_group_active_groups",["$scope","Group",function(a,b){if(!a.loaded){a.groups=null;a.permissions=null;a.loading=true;a.vars=false}a.hide_find_groups=true;a.k6_infotip=Drupal.t("Schoology requires all instructors teaching students under the age of 13 to verify their identities. Your students cannot register for a Schoology account or access this course until you have been verified. Click the icon to verify your account.");a.load=function(c){if(a.groups===null){a.groups=[];b.getActiveGroups(function(d,e,g){a.groups=d;a.permissions=e;a.vars=g;a.hide_find_groups=g.hide_find_groups;a.loading=false;var f=window.location.pathname.split("/");if(a.permissions.can_join_groups){a.join_group_link=Drupal.popup(Drupal.l(Drupal.t("Join"),"/enroll/group",{attributes:{"class":"action-join",title:Drupal.t("Join Group")}}),{extraClass:"popups-small",updateMethod:"reload",hijackDestination:false,updateSource:"final",doneTest:/group\/\d+?|home/,ajaxForm:true})
}if(a.permissions.can_create_groups){a.create_group_link=Drupal.popup(Drupal.l(Drupal.t("Create"),"/groups/new",{attributes:{"class":"action-create",title:Drupal.t("Create Group")}}),{extraClass:"popups-large",updateMethod:"reload",hijackDestination:false,updateSource:"final",doneTest:/group\/\d+?/,ajaxForm:true})}if(a.permissions.official_groups_access){a.find_groups_bar=Drupal.l('<span class="search-toggle find-groups"></span>'+Drupal.t("Find Public Groups"),"/groups/find_public",{html:true,attributes:{"class":"s-find-public-groups"}});a.find_groups_link=Drupal.theme.infotip(Drupal.t("Find Public Groups"),{text:Drupal.l('<span class="search-toggle find-groups"></span>',"/groups/find_public",{html:true}),gravity:"n",attributes:{"class":"infotip hide-qmark"}})}if(typeof c=="function"){c(d,e,g)}a.loaded=true})}};a.closeFindGroup=function(c){$.ajaxSecure({url:"/closeable_message/close",data:{id:"group-suggest-dropdown-notif"},success:a.hideFindGroup(),dataType:"json"})};a.hideFindGroup=function(){a.hide_find_groups=true
}}]);sAngular.app.directive("sGroupLoadMore",["Group",function(a){return{restrict:"C",link:function(d,c,b){c.bind("click",function(){d.more_loading="is-loading";d.$apply();a.getActiveGroups(function(e,f,g){$.merge(d.groups,e);d.more_loading="";d.vars=g},d.groups.length)})}}}]);